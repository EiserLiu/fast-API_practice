# 一、TextView组件

## 1、理论知识点

> layout_width:组件的宽度，单位一般用dp
>
>layout_height:组件的高度，单位一般用dp
>
>text:设置显示文本的内容
>
>textColor:设置字体颜色
>
>id:为TextView设置一个组件的id
>
>textStyle:设置字体风格，三个可以选择的值：normal、bold、italic
>
>textSize:设置字体的大小
>
>background:控件的背景颜色
>
>gravity:设置空间中内容的对齐方向

# 一TextView。

# 1代码

```xml
<?xml version="1.0" encoding="utf-8"?>

<!--
layout_width : 组件的宽度,一般用dp
layout_height : 组件的高度,一般用dp
text : 设置显示文本的内容
textColor : 设置字体颜色
id : 为TextView设置一个组件的id
textStyle : 设置字体风格,三个可以选择的值: normal bold italic
textSize : 字体大小
backgroune : 控件的背景颜色
gravity : 设置控件中内容的对其方向
text : 文本内容
textColor : 文本颜色
textSize : 文本大小
textStyle : 文本效果(加粗,斜体...)
shadowColor : 阴影颜色
shadowRadius : 阴影粗细
shadowDx : 阴影x方向偏移
shadowDy : 阴影y方向偏移
-->

<LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"

        xmlns:android="http://schemas.android.com/apk/res/android">


    <com.example.myapplication.MyTextView
            android:id="@+id/tv_one"
            android:layout_width="match_parent"
            android:layout_height="200dp"
            android:background="#FF000000"
            android:clickable="true"
            android:ellipsize="marquee"
            android:focusable="true"
            android:focusableInTouchMode="true"
            android:gravity="center"
            android:marqueeRepeatLimit="marquee_forever"
            android:shadowColor="#FFFF0000"
            android:shadowDx="10"
            android:shadowDy="10"

            android:shadowRadius="3.0"
            android:singleLine="true"
            android:text="@string/tv_one"
            android:textColor="@color/black"
            android:textSize="30sp"
            android:textStyle="italic"


    >

        <requestFocus></requestFocus>
    </com.example.myapplication.MyTextView>
</LinearLayout>
```

# 一 Button.

## 一、设置背景颜色为黑色

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:tools="http://schemas.android.com/tools"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:orientation="vertical"


              xmlns:android="http://schemas.android.com/apk/res/android">

    <Button
            android:id="@+id/btn"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:text=""
            android:backgroundTint="@color/btn_color_selector"
            android:background="@drawable/brn_selector"
            tools:ignore="HardcodedText"/>

</LinearLayout>
```

### 2、themes.xml文件

```java
public class MainActivity extends AppCompatActivity {
    private static final String TAG = "leo";

    @SuppressLint("ClickableViewAccessibility")
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //获取按钮对象
        Button btn = findViewById(R.id.btn);


        //给按钮添加点击事件
        btn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Log.e(TAG, "onClick: 我被单击了");
            }
        });
        //添加长按事件
        btn.setOnLongClickListener(new View.OnLongClickListener() {
            @Override
            public boolean onLongClick(View view) {
                Log.e(TAG, "onLongClick: 我被长按了");
                return false;
            }
        });
        //添加触摸事件
        btn.setOnTouchListener(new View.OnTouchListener() {
            @Override
            public boolean onTouch(View view, MotionEvent event) {
                Log.e(TAG, "onTouch: 我被触摸了");
                return false;
            }
        });

```

# 一、EditText文本输入框.

## 1、用DditText做输入框

```xml

<EditText
        android:layout_width="200dp"
        android:layout_height="100dp"
        android:hint="请输入用户名"
        android:autofillHints="#ff00ff00"
        android:textColor="#ff0000ff"
        android:textColorHighlight="#ffff0000"
        android:inputType="text"


        android:drawableLeft="@drawable/ic_baseline_work_24"

        tools:ignore="InvalidId"/>
<EditText
android:layout_width="200dp"
android:layout_height="100dp"
android:hint="请输入密码"
android:autofillHints="#ff00ff00"
android:textColor="#ff0000ff"
android:textColorHighlight="#ffff0000"
android:background="#00000000"
android:inputType="textPassword"
/>
```

## 显示图像的控件（ImageView）

- `android:src`：指定要显示的图像资源。
- `android:scaleType`：指定图像的缩放类型。
-
    + 图像会按比例缩放以适应ImageView的边界,`centerInside`只会进行缩小操作，不会进行放大操作。
- `android:layout_width`和`android:layout_height`：指定ImageView的宽度和高度。
- `android:maxWidth`和`android:maxHeight`：指定图像的最大宽度和高度。
- `android:adjustViewBounds`：设置是否根据图像的宽高比来调整ImageView的边界。

> `wrap_content`可以让View的大小能够根据其内部内容的尺寸进行自适应调整，以确保内容能够正常显示而不被截断或溢出。

```xml

<ImageView
        android:src="@drawable/ic_baseline_work_24"
        android:scaleType="fitCenter"
        android:layout_width="200dp"
        android:layout_height="200dp"
/>
<ImageView
android:src="@drawable/ic_baseline_work_24"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:adjustViewBounds="true"
android:maxWidth="200dp"
android:maxHeight="200dp"
/>
```

# 一、单击按钮,出现加载框

```xml

<ProgressBar
        android:id="@+id/pb"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"

/>
<Button
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="显示隐藏进度条"
android:onClick="leoClick"
/>
```

添加单击事件

```java
//定义进度条对象
private ProgressBar progressBar;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    //定义进度条对象
    progressBar=findViewById(R.id.pb);
}

public void leoClick(View view) {
    //单击按钮后的操作
    if (progressBar.getVisibility() == View.GONE) {
        progressBar.setVisibility(View.VISIBLE);
    } else {
        progressBar.setVisibility(View.GONE);
    }
}
```

# 二、单击某个按钮进度条值不断增大.

##  

```xml
<!--  水平进度条  -->
<ProgressBar
        android:id="@+id/pd2"
        style="?android:attr/progressBarStyleHorizontal"
        android:max="100"
        android:layout_width="300dp"
        android:layout_height="wrap_content"/>

<Button
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:onClick="load"
android:text="模拟下载"

/>
```

单击按钮模拟下载

```java
public void load(View view){
        ProgressBar progressBar2 = findViewById(R.id.pd2);
        int progress = progressBar2.getProgress();
//      增加进度条的值,每次+10
        if (progress==100)
            progress = 0;
        progress += 10;
//      重新设置进度条的值
        progressBar2.setProgress(progress);

    }
```

# 三、Notification

## 1、Notification（builder构造器）与NotificationManager(系统维护的服务对象)

## 2、通知重要程度的设置，NotificationManager

1）IMPORTANCE_NONE:关闭通知

2）IMPORTANCE_MIN:开启通知，不会弹出，但没有提示音，状态栏中无显示

3）IMPORTANCE_LOW:开启通知，不会弹出，但没有提示音，状态栏中有显示

4）IMPORTANCE_DEFAULT:开启通知，不会弹出，但有提示音，状态栏中有显示

5）IMPORTANCE_HIGH:开启通知，会弹出，有提示音，状态栏中有显示

## 3、常用方法

1. setContentTilite(String string)  设置标题

2. setContentText(String string)  设置消息内容

3. setSmallcon(int icon)  设置小图标

4. setLargeIcon(Bitmap icon)  设置通知的大图标

5. setColor(int argb)  设置小图标的颜色

6. setContentIntent(PendingIntent intent)  设置单击通知后的跳转

7. setAutoCancel(boolean booolean)  设置单击通知后自动清除通知

8. setWhen(long when)  设置通知被创建的时间

## 四、实现单击按钮发出消息显示通知

创建按钮

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              xmlns:tools="http://schemas.android.com/tools"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:orientation="vertical">


    <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:onClick="sendNotification"
            android:text="发送通知"
    />
    <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:onClick="cancelNotification"
            android:text="取消通知"
    />

</LinearLayout>
   ```

创建单击事件

```java
private NotificationManager manager;
    private Notification notification;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        //    初始化通知管理对象
        manager=(NotificationManager)getSystemService(NOTIFICATION_SERVICE);
        if(Build.VERSION.SDK_INT>=Build.VERSION_CODES.O)
        {
            NotificationChannel channel=new NotificationChannel("leo","测试通知",NotificationManager.IMPORTANCE_HIGH);
            manager.createNotificationChannel(channel);
        }
        //        创建Intent 对象
        Intent intent=new Intent(this,NotificationActivity.class);
//        创建PendingIntent
        PendingIntent pendingIntent = PendingIntent.getActivity(this,0,intent,0);
        //    初始化通知对象
        notification=new NotificationCompat.Builder(this,"leo")
//    设置标题
                .setContentTitle("官方通知")
//                设置消息内容
                .setContentText("世界这么大，想去走走吗")
//     设置通知图标
                .setSmallIcon(R.drawable.ic_launcher_foreground)
//      设置大图标
                .setLargeIcon(BitmapFactory.decodeResource(getResources(),R.drawable.ic_launcher_background))
//                设置小图标颜色
                .setColor(Color.parseColor("#ff0000"))
//                设置单击通知后的跳转意图
                .setContentIntent(pendingIntent)
//                设置单击后自动清除通知
                .setAutoCancel(true)
                .build();
    }





    public void sendNotification(View view) {

        manager.notify(1,notification);
    }

    public void cancelNotification(View view)
    {
        manager.cancel(1);
    }
}
```

# 一、实现小图标的颜色为红色以及大图标.

```java
//设置大图标
.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.da))
//设置小图标颜色
.setColor(Color.parseColor("#ff0000"))
```

# 二、

## 1、创建NotificationActivity

## 2、注册NotificationActivity

```java
package com.example.mynotification;

import android.app.Activity;
import android.app.PendingIntent;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;

import androidx.annotation.Nullable;

public class NotificationActivity extends Activity {
    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState){
        super.onCreate(savedInstanceState);
        // 打印进入核方法
        Log.e("leo","onCreate: 进入NotificationActivity");

    }
}

```

## 3、完善MainActivity

```java
package com.example.mynotification;

import androidx.appcompat.app.AppCompatActivity;
import androidx.core.app.NotificationCompat;

import android.app.Notification;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Intent;
import android.graphics.BitmapFactory;
import android.graphics.Color;
import android.os.Build;
import android.os.Bundle;
import android.view.View;

public class MainActivity extends AppCompatActivity {

    private NotificationManager manager;
    private Notification notification;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        //    初始化通知管理对象
        manager=(NotificationManager)getSystemService(NOTIFICATION_SERVICE);
        if(Build.VERSION.SDK_INT>=Build.VERSION_CODES.O)
        {
            NotificationChannel channel=new NotificationChannel("leo","测试通知",NotificationManager.IMPORTANCE_HIGH);
            manager.createNotificationChannel(channel);
        }
        //        创建Intent 对象
        Intent intent=new Intent(this,NotificationActivity.class);
//        创建PendingIntent
        PendingIntent pendingIntent = PendingIntent.getActivity(this,0,intent,0);
        //    初始化通知对象
        notification=new NotificationCompat.Builder(this,"leo")
//    设置标题
                .setContentTitle("官方通知")
//                设置消息内容
                .setContentText("世界这么大，想去走走吗")
//     设置通知图标
                .setSmallIcon(R.drawable.ic_launcher_foreground)
//      设置大图标
                .setLargeIcon(BitmapFactory.decodeResource(getResources(),R.drawable.ic_launcher_background))
//                设置小图标颜色
                .setColor(Color.parseColor("#ff0000"))
//                设置单击通知后的跳转意图
                .setContentIntent(pendingIntent)
//                设置单击后自动清除通知
                .setAutoCancel(true)
                .build();
    }





    public void sendNotification(View view) {

        manager.notify(1,notification);
    }

    public void cancelNotification(View view)
    {
        manager.cancel(1);
    }
}
```

# 三、ToolBar理论

activity_main中添加

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout android:layout_width="match_parent"
              android:layout_height="match_parent"
              xmlns:app="http://schemas.android.com/apk/res-auto"
              android:orientation="vertical"


              xmlns:android="http://schemas.android.com/apk/res/android">

    <androidx.appcompat.widget.Toolbar
            android:id="@+id/tb1"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:background="#ffff00"
            android:orientation="vertical"
            app:navigationIcon="@drawable/ic_baseline_arrow_back_24"
            app:title="标题"
            app:titleMarginStart="90dp"
            app:titleTextColor="#ff0000"/>

</LinearLayout>
```

Activity文件

```java
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}
```

# 一、对话框的三个选项

## 1、对话框理论总结

1、AlertDialog.Builder builder = new AlertDialog.Builder(this);创建对话框对象

2、builder.setIcon(int i) ;添加图标

3、.setTitle("") ;添加标题

4、builder.create();对话框创建，在设置属性后调用

5、builder.show();显示对话框，一定在最后

6、setPositiveButton 确定按钮

7、setNegativeButton 取消按钮

8、setNeutralButton 中间按钮

9、.setMessage 添加消息

# 二、实现自定义布局

## 1、创建布局文件

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="#ffffff"
        android:orientation="horizontal"
        xmlns:android="http://schemas.android.com/apk/res/android"
>
    <ImageView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@mipmap/ic_launcher"/>
    <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="这是一个文本"/>


</LinearLayout>
```

```java
public void showDialog(View view){

        //创建自定义布局对象
        View dialogView = getLayoutInflater().inflate(R.layout.dialog_view,null);



        //创建对话框对象
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setIcon(R.mipmap.ic_launcher) //设置图标
            .setTitle("我是对话框") //设置标题
            .setMessage("你确定删除这条记录吗") //设置内容
            .setView(dialogView)
```

# 三、PopupWindow弹窗

## 1、完善activity_main_xml文件

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:tools="http://schemas.android.com/tools"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:orientation="vertical"
              xmlns:android="http://schemas.android.com/apk/res/android"
>

    <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:onClick="leoClick"
            android:text="弹出PopupWindow"
    />


</LinearLayout>
```

## 2创建popup_view.xml布局文件

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@drawable/ic_launcher_foreground"
        android:orientation="vertical"
        xmlns:android="http://schemas.android.com/apk/res/android"
>

    <!--  有上海文本的按钮  -->
    <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="上海"
            android:padding="5dp"
            android:textSize="18sp"
            android:id="@+id/btn1"/>


    <!--  有北京文本的按钮  -->
    <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="北京"
            android:padding="5dp"
            android:textSize="18sp"
            android:id="@+id/btn2"/>

</LinearLayout>
```

## 3、导入素材图片

## 4、在MainActivity类中创建按钮单击事件处理的方法

```java
    public void leoClick(View view){
        // 获取自定义布局对象
        View popupView = getLayoutInflater().inflate(R.layout.popup_view,null);

        PopupWindow popupWindow = new PopupWindow(popupView,
                ViewGroup.LayoutParams.WRAP_CONTENT,
                ViewGroup.LayoutParams.WRAP_CONTENT,
                true);
        // 设置弹窗的背景图
        popupWindow.setBackgroundDrawable(getResources().getDrawable(R.drawable.beijingtu));
        // 弹窗显示到按钮的下方
        popupWindow.showAsDropDown(view);public void leoClick(View view) {
    //  获取自定义布局
    View popupView = getLayoutInflater().inflate(R.layout.popup_view, null);

    //第2.3个参数和xml中wrap_parent意思相同
    //第四个参数true:单击空白处弹框消失
    PopupWindow popupWindow = new PopupWindow(popupView,
            ViewGroup.LayoutParams.WRAP_CONTENT,
            ViewGroup.LayoutParams.WRAP_CONTENT,
            true);
    //设置弹窗背景图
    popupWindow.setBackgroundDrawable(getResources().getDrawable(R.drawable.tu));
    //弹窗显示到按钮的下方
    popupWindow.showAsDropDown(view);
}
```

# 五、实现单击两个按钮有不同操作

## 1、在mainactivity类的leoclick方法中添加代码

```java
    // 获取上海这个按钮对象
        View btn1 = popupView.findViewById(R.id.btn1);
        // 获取北京这个按钮对象
        View btn2 = popupView.findViewById(R.id.btn2);

        //添加上海的单击事件
        btn1.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Log.e("lzp","onClick: 你住上海吗?");
            }
        });
        //添加北京的单击事件
        btn2.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Log.e("lzp","onClick: 你住北京吗?");
                // 关闭弹窗
                popupWindow.dismiss();
            }
        });
```

# 一、LinearLayout 布局的基础理论.

## 1、常用属性

**1） orientation：布局中组件的排列方式**

**2） gravity：控制组件所包含的子元素的对齐方式，可多个组合**

**3） layout_gravity：控制该组件在父容器里的对齐方式**

**4） background：为该组件设置一个背景图片，或者是直接用颜色覆盖**

**5） divider：分割线**

**6） showDividers：设置分割线所在的位置，none（无），begining（开始），end（结 束），middle（每两个组件间）**

**7） dividerPadding：设置分割线的 padding**

**8） layout_weight（权重）：该属性是用来等比例的划分区域**

# 二、课堂练习

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              xmlns:tools="http://schemas.android.com/tools"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:gravity=""
              android:orientation="vertical"
>


    <LinearLayout
            android:layout_width="250dp"
            android:layout_height="250dp"
            android:orientation="vertical"
            android:gravity="center"
            android:layout_gravity=""
            android:background="#0000ff"
    >

        <LinearLayout
                android:layout_width="150dp"
                android:layout_height="150dp"
                android:layout_gravity=""
                android:background="#ff0000"
                android:gravity="center"
                tools:ignore="RtlHardcoded">

            <LinearLayout
                    android:layout_width="50dp"
                    android:layout_height="50dp"
                    android:background="#ffff00"
                    android:layout_gravity="center"
            />
        </LinearLayout>
    </LinearLayout>


    <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="100dp"
            android:background="#0000ff"
            android:layout_gravity="center"
            android:orientation="horizontal"
            android:layout_marginTop="50dp"
            android:baselineAligned="false">
        <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="50dp"
                android:background="#ffff00"
                android:layout_gravity="center"
                android:layout_weight="1"
        />
        <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="50dp"
                android:background="#00ff00"
                android:layout_gravity="center"
                android:layout_weight="1"
        />

    </LinearLayout>

    <LinearLayout
            android:layout_width="250dp"
            android:layout_height="250dp"
            android:layout_gravity="center"
            android:layout_marginTop="80dp"
            android:background="#0000ff"
            android:gravity="right"
            android:orientation="horizontal"

            tools:ignore="RtlHardcoded">

        <LinearLayout
                android:layout_width="100dp"
                android:layout_height="100dp"
                android:layout_gravity="center|"
                android:background="#ff0000">

        </LinearLayout>
    </LinearLayout>


</LinearLayout>

```

# 一、RelativeLayout 布局的基础理论

## 1、名词解释

1） Relative：相对的

02_android 基础开发_布局
2） Layout：布局
3） RelativeLayout：相对于父容器进行布局，没有相对位置的话，都是相对于父容器最左上角的位置开始布局

## 2、根据父容器定位

1） layout_alignParentLeft 左对齐
2） layout_alignParentRight 右对齐
3） layout_alignParentTop 顶部对齐
4） layout_alignParentBottom 底部对齐
5） layout_centerHorizontal 水平居中
6） layout_centerVertical 垂直居中
7） layout_centerInParent 中间位置

## 3、根据兄弟组件定位

1） layout_toLeftOf 放置于参考组件的左边
2） layout_toRightOf 放置于参考组件的右边
3） layout_above 放置于参考组件的上方
4） layout_below 放置于参考组件的下方
5） layout_alignTop 对齐参考组件的上边界
6） layout_alignBottom 对齐参考组件的下边界
7） layout_alignLeft 对齐参考组件的左边界
8） layout_alignRight 对齐参考组件的右边界

## 4、 margin 设置组件与父容器的边距

1） layout_margin 上下左右偏移
2） layout_marginLeft
3） layout_marginRight
4） layout_marginTop
5） layout_marginBottom

## 5、padding 设置组件内部元素的边距

1） layout_padding 上下左右偏移
2） layout_paddingLeft
3） layout_paddingRight
4） layout_paddingTop
5） layout_paddingBottom

# 二、案例

```xml
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent"

>

    <!--红色和绿色方块都是相对于父容器的左上角开始定位
    红色被覆盖,只能看到绿色的方块
    红在上方,绿在下方-->

    <!--  红色方块  -->
    <RelativeLayout
            android:id="@+id/red"
            android:layout_width="100dp"
            android:layout_height="100dp"
            android:background="#ff0000"
            android:layout_centerInParent="true"

    />
    <!--绿色方块-->
    <RelativeLayout
            android:layout_width="100dp"
            android:layout_height="100dp"
            android:background="#00ff00"
            android:layout_above="@+id/red"
            android:layout_alignEnd="@+id/red"
    />
</RelativeLayout>
```

# 三、FrameLayout布局理论

## 1、名词解释

FrameLayout：框架布局，又叫帧布局。

## 2、常用属性

1） android:foreground 设置前景
2） android:foregroundGravity 设置前景的位置

# 四、案例

```xml
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        xmlns:android="http://schemas.android.com/apk/res/android">

    <FrameLayout
            android:layout_width="400dp"
            android:layout_height="400dp"
            android:background="#ff0000"/>
    <FrameLayout
            android:layout_width="300dp"
            android:layout_height="300dp"
            android:background="#0000ff"/>


</FrameLayout>
```

# 一、TableLayout 布局的基础理论

## 1、名词解释

TableLayout：表格布局。

## 2、特点

在 TableLayout 里的控件占用一整行的大小； 多个控件在一行需要使用 TableRow 标签； 一行中超出的部分不会自动换行，只是不显示而已。

## 3、常用属性

1） android:collapseColumns 设置需要被隐藏的列的序号，从 0 开始 2） android:stretchColumns 设置允许被拉伸的列的序号，从 0 开始
3） android:shrinkColumns 设置允许被收缩的列的列号，从 0 开始

## 4、子控件设置属性

1） android:layout_column 显示在第几列

2） android:layout_span 横向跨几列

# 二、表格布局案例

```xml
<?xml version="1.0" encoding="utf-8"?>
<!--拉伸,隐藏都是从0开始-->
<!--当总长度小于屏幕宽度时,拉伸才会起作用,否则不起作用-->
<!--当总长度大于屏幕宽度时,收缩才会起作用,否则不起作用-->
<!--    android:collapseColumns=""-->
<!--    android:stretchColumns="1"-->
<!--    android:shrinkColumns="1"-->


<TableLayout
        android:layout_height="match_parent"
        android:layout_width="match_parent"


        xmlns:android="http://schemas.android.com/apk/res/android">
    <!--    tablelayout中的控件占一整行的大小-->
    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="第一个"
    />
    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="第二个"
    />
    <!--    多个控件在一行用TableRow标签-->
    <TableRow>
        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:layout_column="2"
                android:text="第一个"
        />
        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:layout_span="2"
                android:text="第二个"
        />


    </TableRow>

    <TableRow>
        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:text="第一个"/>

        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:text="第二个"/>

        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:text="第三个"/>

        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:text="第四个"/>

        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:text="第五个"/>


    </TableRow>


</TableLayout>
```

# 三、课堂练习

```xml
<?xml version="1.0" encoding="utf-8"?>


<TableLayout
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:stretchColumns="0,1,2"

        xmlns:tools="http://schemas.android.com/tools"
        xmlns:android="http://schemas.android.com/apk/res/android"
        tools:ignore="MissingDefaultResource">
    <!--    tablelayout中的控件占一整行的大小-->

    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="第一个"
    />
    <TableRow>

        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"

                android:text="第一个"
        />
        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:layout_span="3"

                android:text="第二个"
        />
    </TableRow>


    <TableRow>
        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:layout_span="1"
                android:text="第一个"/>

        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"

                android:text="第二个"/>

        <Button
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"

                android:text="第三个"/>


    </TableRow>


</TableLayout>
```

# 四、、GridLayout 布局的基础理论

## 1、名词解释

GridLayout：网格布局。

## 2、特点

GridLayout 比 TableLayout 更加灵活；

TableLayout 只能合并列，不能合并行；

GridLayout 不仅能合并列，还能合并行。

## 3、常用属性

1） android:orientation 设置水平显示还是垂直显示

2） android:columnCount 设置行的显示个数

3） android:rowCount 设置列的显示个数

## 4、子控件属性

1） android:layout_column 显示在第几列

2） android:layout_columnSpan 横向跨几列

3） android:layout_columnWeight 横向剩余空间分配方式

4） android:layout_gravity 在网格中的显示位置

5） android:layout_row 显示在第几行

6） android:layout_rowSpan 纵向跨几行

7） android:layout_rowWeight 纵向剩余空间分配方式

# 五、案例

```xml
<?xml version="1.0" encoding="utf-8"?>

<!--android:orientation=布局方法
    "vertical" 纵向
    "horizontal"横向
    android:columnCount="3"每行最多几个
    android:rowCount="3" 每列最多几个
-->

<GridLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="horizontal"

        xmlns:android="http://schemas.android.com/apk/res/android">

    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="第一个"/>

    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:layout_row="1"
            android:layout_column="1"
            android:layout_rowWeight="1"
            android:layout_columnWeight="0"
            android:layout_gravity="fill"

            android:text="第二个"/>

    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:layout_row="0"
            android:text="第三个"/>

    <Button
            android:layout_columnWeight="1"
            android:layout_rowWeight="1"
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="第四个"/>

    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="第五个"/>


</GridLayout>
```

# 六、练习

```xml
<?xml version="1.0" encoding="utf-8"?>

<GridLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="horizontal"
        android:columnCount="5"
        android:rowCount="4"

        xmlns:android="http://schemas.android.com/apk/res/android">

    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="1"/>

    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="2"/>

    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="3"/>

    <Button
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="4"/>

    <Button

            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_rowSpan="2"
            android:layout_gravity="fill"

            android:text="5"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"

            android:text="6"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"

            android:text="7"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:layout_columnSpan="2"
            android:layout_gravity="fill"
            android:text="8"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="9"
            android:layout_rowSpan="2"
            android:layout_gravity="fill_vertical"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="10"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="11"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="12"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="13"/>

    <Button

            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="14"/>
    <Button

            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:text="15"
            android:layout_columnSpan="3"
            android:layout_gravity="fill_horizontal"
    />


</GridLayout>
```

# 一约束性布局

## 练习

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
                                                   xmlns:app="http://schemas.android.com/apk/res-auto"
                                                   xmlns:tools="http://schemas.android.com/tools"
                                                   android:layout_width="match_parent"
                                                   android:layout_height="match_parent"
                                                   tools:context=".MainActivity">

    <EditText
            android:id="@+id/editTextTextPersonName"
            android:layout_width="180dp"
            android:layout_height="40dp"
            android:layout_marginStart="50dp"
            android:ems="10"
            android:hint="请输入用户姓名"
            android:inputType="textPersonName"
            app:layout_constraintStart_toEndOf="@+id/textView3"
            app:layout_constraintTop_toTopOf="@+id/textView3"/>

    <TextView
            android:id="@+id/textView3"
            android:layout_width="50dp"
            android:layout_height="40dp"
            android:layout_marginStart="100dp"
            android:layout_marginTop="100dp"
            android:text="用户名"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"/>

    <TextView
            android:id="@+id/textView4"
            android:layout_width="50dp"
            android:layout_height="40dp"
            android:layout_marginStart="100dp"
            android:layout_marginTop="60dp"
            android:text="密码"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/textView3"/>

    <TextView
            android:id="@+id/textView5"
            android:layout_width="50dp"
            android:layout_height="40dp"
            android:layout_marginStart="100dp"
            android:layout_marginTop="60dp"
            android:text="性别"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/textView4"/>

    <RadioButton
            android:id="@+id/radioButton"
            android:layout_width="50dp"
            android:layout_height="40dp"
            android:layout_marginStart="50dp"
            android:layout_marginTop="60dp"
            android:text="女"
            app:layout_constraintStart_toEndOf="@+id/textView5"
            app:layout_constraintTop_toBottomOf="@+id/editTextTextPassword2"/>

    <Button
            android:id="@+id/button3"
            android:layout_width="146dp"
            android:layout_height="72dp"
            android:layout_marginStart="120dp"
            android:layout_marginTop="60dp"
            android:background="#0000ff"
            android:backgroundTint="#0000ff"
            android:text="注册"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/radioButton"
            app:strokeColor="#0000ff"/>

    <RadioButton
            android:id="@+id/radioButton2"
            android:layout_width="50dp"
            android:layout_height="40dp"
            android:layout_marginTop="60dp"
            android:text="男"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintHorizontal_bias="0.594"
            app:layout_constraintStart_toEndOf="@+id/radioButton"
            app:layout_constraintTop_toBottomOf="@+id/editTextTextPassword2"/>

    <EditText
            android:id="@+id/editTextTextPassword2"
            android:layout_width="180dp"
            android:layout_height="40dp"
            android:layout_marginStart="50dp"
            android:layout_marginTop="60dp"
            android:ems="10"
            android:hint="请输入密码"
            android:inputType="textPassword"
            app:layout_constraintStart_toEndOf="@+id/textView4"
            app:layout_constraintTop_toBottomOf="@+id/editTextTextPersonName"/>

</androidx.constraintlayout.widget.ConstraintLayout>
```

# 一、动画理论

## 1、动画的类型

1逐帧动画

2补间动画

3属性动画

# 二、逐帧动画

### 1、什么是逐帧动画

把几张图片快速播放，形成动画效果

# 三、实现单击播放动画，再次单击停止动画案例

## 1、导入素材图片

## 2、创建frame.xml文件

```java
<?xml version="1.0" encoding="utf-8"?>
<animation-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@drawable/frame1" android:duration="120"/>
    <item android:drawable="@drawable/frame2" android:duration="120"/>
    <item android:drawable="@drawable/frame3" android:duration="120"/>
    <item android:drawable="@drawable/frame4" android:duration="120"/>
    <item android:drawable="@drawable/frame5" android:duration="120"/>
    <item android:drawable="@drawable/frame6" android:duration="120"/>
    <item android:drawable="@drawable/frame7" android:duration="120"/>
    <item android:drawable="@drawable/frame8" android:duration="120"/>
</animation-list>
```

## 3、完善MainActivity

```java
package com.example.myframeanimation;

import androidx.appcompat.app.AppCompatActivity;

import android.graphics.drawable.AnimationDrawable;
import android.os.Bundle;
import android.view.View;
import android.widget.RelativeLayout;

public class MainActivity extends AppCompatActivity {

    // 动画是否运动
    boolean flag = false;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // 获取布局对象
        RelativeLayout relativeLayout = findViewById(R.id.rl);
        // 获取动画的Drawable资源
        AnimationDrawable anim = (AnimationDrawable)relativeLayout.getBackground();
        // 给按钮添加单击事件
        relativeLayout.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                if (!flag) {
                    // 启动动画
                    anim.start();
                    flag = true;
                } else {
                    // 停止动画
                    anim.stop();
                    flag = false;
                }
            }
        });
    }
}
```

# 四、补间动画

## 1、什么是补间动画

给这个动画设置一个初始值以及结束值，然后设置一个变化时间，系统会自动将这个动画补全，这就是补间动画。

## 2、补间动画的分类

1）alpha 透明的

2）rotate 旋转

3） scale 缩放

4）translate 平移

# 一、旋转动画

## 1、创建rotate.xml文件

```xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <!--以图片中心点为旋转点,用2秒的时间从0度旋转到360度-->
    <rotate
            android:fromDegrees="0"
            android:toDegrees="360"
            android:pivotX="50%"
            android:pivotY="50%"
            android:duration="2000"

    />
</set>
```

## 2、重新加载动画文件

```java
//                旋转
Animation animation = AnimationUtils.loadAnimation(MainActivity.this,R.anim.rotate);

```

# 二、缩放动画

## 1、创建scale.xml文件

```xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <!--用2秒时间同图片以中心为缩放中心,从原始大小缩放到原来的宽高的一半-->
    <scale
            android:fromXScale="1"
            android:fromYScale="1"
            android:toXScale="0.5"
            android:toYScale="0.5"
            android:pivotX="50%"
            android:pivotY="50%"
            android:duration="2000"
    />
</set>
```

## 2、重新加载动画文件

```java
//                缩放
Animation animation = AnimationUtils.loadAnimation(MainActivity.this,R.anim.scale);
           
```

# 三、平移动画

## 1、创建translate.xml文件

```xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <!--用两秒的时间让图片从初始的位置,移动到(400,400)处-->
    <translate
            android:fromXDelta="0"
            android:fromYDelta="500"
            android:toXDelta="0"
            android:toYDelta="-500"
            android:duration="2000"
    />
</set>
```

## 2、重新加载动画文件

```java
平移
Animation animation = AnimationUtils.loadAnimation(MainActivity.this,R.anim.translate);

```

# 四、属性动画

## 1、什么是属性动画

**可以让某一个值再设定的时间内平滑过渡到另一个值，根据值的变化过程，自己操作对象的变化**

## 2、Hello Word透明度逐渐变化的案例

```java
package com.example.mypropertyanimation;

import androidx.annotation.NonNull;
import androidx.appcompat.app.AppCompatActivity;

import android.animation.Animator;
import android.animation.ObjectAnimator;
import android.animation.ValueAnimator;
import android.os.Bundle;
import android.util.Log;
import android.widget.TextView;

public class MainActivity extends AppCompatActivity {

    String TAG = "lzp";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // 创建一个值动画师对象
        ValueAnimator valueAnimator = ValueAnimator.ofFloat(0f,1f);
        // 创建一个动画执行的周期为2秒
        valueAnimator.setDuration(2000);
        // 添加值变价的监听器
//        valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {
//            @Override
//            public void onAnimationUpdate(@NonNull ValueAnimator animation) {
//                // 得到动画的当前值
//                float value = animation.getAnimatedFraction();
//                Log.e("lzp", "onAnimationUpdate: "+value );
//            }
//        });
//        //启动动画
//        valueAnimator.start();


        // 获取动画
        TextView textView = findViewById(R.id.tv);

        // 动画师让TextView对象的透明度从0到1
        ObjectAnimator objectAnimator = ObjectAnimator.ofFloat(textView,"alpha",0f,1f);

        // 动画运行的时间4秒
        objectAnimator.setDuration(2000);



        objectAnimator.addListener(new Animator.AnimatorListener() {
            // 动画开始的时候调用
            @Override
            public void onAnimationStart(Animator animation) {
                Log.e(TAG, "onAnimationStart: 动画开始的时候调用" );
            }
            // 动画结束的时候调用
            @Override
            public void onAnimationEnd(Animator animation) {
                Log.e(TAG, "onAnimationEnd: 动画结束的时候调用");

            }
            // 动画取消的时候调用
            @Override
            public void onAnimationCancel(Animator animation) {
                Log.e(TAG, "onAnimationCancel: 动画取消的时候调用");
            }
            // 动画重复执行的时候调用
            @Override
            public void onAnimationRepeat(Animator animation) {
                Log.e(TAG, "onAnimationRepeat: 动画重复执行的时候调用");
            }
        });
        // 启动动画
        objectAnimator.start();


    }
}
```

# 一、Fragment 的基础理论

## **1、什么是 Fragmen**t

Fragment 是 Android3.0 开始新增的概念，意为碎片、片段。 Fragment 是依赖 于 Activity 的，不能独立存在的。

1） 具备生命周期

2） 必须委托在 activity 中才能运行

## **2、为什么要有 Fragment**

Android 运行在各种各样的设备中，有小屏幕的手机，还有大屏幕的平板，电 视等。同样的界面在手机上显示可能很好看，在大屏幕的平板上就未必了，手机的
界面放在平板上可能会有过分被拉长、控件间距过大等情况。针对屏幕尺寸的差距， Fragment 的出现能做到一个 App
可以同时适应手机和平板。这就是为什么要有 Fragment 的原因。

## **3、Fragment 有什么优点**

1） Fragment 可以将 Activity 分离成多个可重用的组件，不需要把代码都写到 Activity 中，且每个 Fragment 都有它自己的生命周期和
UI。

2） Fragment 可以轻松得创建动态灵活的 UI 设计，可以适应于不同的屏幕尺寸。 从手机到平板电脑。

3） Fragment 是一个独立的模块,紧紧地与 Activity 绑定在一起。可以在 Activity 运 行中动态地移除、加入、交换等。

4） Fragment 切换流畅，轻量切换。

5） Fragment 在 4.2.版本中新增嵌套 fragment 使用方法，能够生成更好的界面效

## **4、Fragment 的生命周期**

1） Activity 加载 Fragment 的时候,依次调用下面的方法: onAttach -> onCreate ->  onCreateView -> onActivityCreate ->
onStart ->onResume

2） 当我们弄出一个悬浮的对话框风格的 Activity,或者其他,就是让 Fragment 所在 3 04_android 基础开发_Fragment 的 Activity
可见,但不获得焦点 onPause

3） 当对话框关闭,Activity 又获得了焦点: onResume

4） 当我们替换 Fragment,并调用 addToBackStack()将他添加到 Back 栈中 onPause ->  onStop -> onDestoryView ！！注意,此时的
Fragment 还没有被销毁哦!!!

5） 当我们按下键盘的回退键，Fragment 会再次显示出来: onCreateView ->  onActivityCreate -> onStart -> onResume

6） 如果我们替换后,在事务 commit 之前没有调用addToBackStack() 方法将 Fragment 添加到 back 栈中的话;又或者退出了 Activity
的话,那么 Fragment 将会 被完全结束, Fragment 会进入销毁状态 onPause -> onStop -> onDestoryView ->  onDestory -> onDetach

# 二、一个Activity中添加一个Fragment

1、案例样式：单击按钮上边的文字变为“yes,I am,and you?”

## 1、fragment_blank1_xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        tools:context=".BlankFragment1">

    <!-- TODO: Update blank fragment layout -->


    <TextView
            android:id="@+id/textview"
            android:layout_width="match_parent"
            android:layout_height="40px"
            android:text="hello_blank_fragment"/>

    <Button
            android:id="@+id/btn"
            android:layout_width="match_parent"
            android:layout_height="100px"
            android:text="how are you"/>


</LinearLayout>

```

## 2、BlankFragment1.java

```java
package com.example.myfragement;

import android.os.Bundle;

import androidx.fragment.app.Fragment;

import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.TextView;


public class BlankFragment1 extends Fragment {
    // 声明最大的视图
    private View root;
    // 声明文本对象
    private TextView textView;
    // 声明按钮对象
    private Button button;


    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        if(root==null){
            // 获取最大的视图对象
            root = inflater.inflate(R.layout.fragment_blank1,container,false);
            // 获取文本对象
            textView = root.findViewById(R.id.textview);
            // 获取按钮对象
            button = root.findViewById(R.id.btn);
            // 添加单击事件
            button.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    // 单击后文本内容变为yes,I am,and you?
                    textView.setText("yes,I am,and you?");
                }
            });
        }

        return root;
    }
}
```

## 3、完善activity_main.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        tools:context=".MainActivity">

    <!--fragment中的id必须存在,否则会报错-->
    <fragment
            android:id="@+id/fragment1"
            android:layout_weight="1"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:name="com.example.myfragement.BlankFragment1"

    />
    <fragment
            android:id="@+id/fragment2"
            android:layout_weight="1"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:name="com.example.myfragement.BlankFragment2"

    />


</LinearLayout>
```

## 三、单击第二个按钮，弹出消息“你好吗？”

```java
package com.example.myfragement;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.TextView;

import androidx.fragment.app.Fragment;


public class BlankFragment2 extends Fragment {
    // 声明最大的视图
    private View root;
    // 声明文本对象
    private TextView textView;
    // 声明按钮对象
    private Button button;




    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        if(root==null){
            // 获取最大的视图对象
            root = inflater.inflate(R.layout.fragment_blank1,container,false);
            // 获取文本对象
            textView = root.findViewById(R.id.textview);
            // 获取按钮对象
            button = root.findViewById(R.id.btn);
            // 添加单击事件
            button.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    // 单击后文本内容变为yes,I am,and you?
                    textView.setText("yes,I am,and you?");
                }
            });


        }

        return root;
    }
}
```

# 一、fragment动态管理

## 1、完善activity_main_xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:orientation="vertical"
>

    <Button
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/btn"
            android:text="@string/change"/>
    <Button
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/btn2"
            android:text="@string/replace"/>
    <FrameLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:id="@+id/framelayout"
            android:background="@color/purple_200"/>

</LinearLayout>
```

## 2、创建BlankFragment1

```xml
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
             xmlns:tools="http://schemas.android.com/tools"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             tools:context=".BlankFragment1">

    <!-- TODO: Update blank fragment layout -->
    <TextView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:text="@string/hello_blank_fragment"
    />


    <Button
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:id="@+id/btn3"
            android:text="数据传递"
    />

</FrameLayout>
```

## 3、创建ltemFragment

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.recyclerview.widget.RecyclerView xmlns:android="http://schemas.android.com/apk/res/android"
                                           xmlns:app="http://schemas.android.com/apk/res-auto"
                                           xmlns:tools="http://schemas.android.com/tools"
                                           android:id="@+id/list"
                                           android:name="com.example.myfragmentmanagers.ItemFragment"
                                           android:layout_width="match_parent"
                                           android:layout_height="match_parent"
                                           android:layout_marginLeft="16dp"
                                           android:layout_marginRight="16dp"
                                           app:layoutManager="LinearLayoutManager"
                                           tools:context=".ItemFragment"
                                           tools:listitem="@layout/fragment_item"/>
```

## 4、完善Main cativity

```java
package com.example.myfragmentmanagers;

import androidx.appcompat.app.AppCompatActivity;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.fragment.app.FragmentTransaction;

import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity implements View.OnClickListener{




        /**
         * 完成动态切换
         * @param fragement
         */
        private void replaceFrament(Fragment fragement){
            // 创建fragment 管理对象
            FragmentManager fragmentManager = getSupportFragmentManager();
            // 开启fragment的事务管理
            FragmentTransaction transaction = fragmentManager.beginTransaction();
            // 用fragment替换原有显示的framelayout
            transaction.replace(R.id.framelayout,fragement);
            // 添加造作到栈中
            transaction.addToBackStack(null);
            // 事务提交
            transaction.commit();
        }



    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        // 获取第一个按钮,然后添加监听器
        Button button = findViewById(R.id.btn);
        button.setOnClickListener(this);
        // 获取第二个按钮,然后添加监听器
        Button button2 = findViewById(R.id.btn2);
        button2.setOnClickListener(this);
    }

    /**
     * 将本类做成监听器
     *
     */

    @Override
    public void onClick(View v) {
        switch (v.getId()){
            case R.id.btn:
                // 创建Bundle对象
                Bundle bundle = new Bundle();
                // 存储需要传递的信息
                bundle.putString("message","我想学习");
                // 创建BlankFragment对象
                BlankFragment1 bf = new BlankFragment1();
                // 向fragement中传递Bundle对象
                bf.setArguments(bundle);

                // 给Fragment中的IFragmentCallBack赋值
                bf.setFragmentCallBack(new IFragmentCallBack() {
                    @Override
                    public void sendMsgToActivity(String msg) {
                        // 弹框显示
                        Toast.makeText(MainActivity.this,msg,Toast.LENGTH_SHORT).show();
                    }
                    @Override
                    public String getMsgFromActivity(String msg) {
                        return null;
                    }
                });

                replaceFrament(bf);
                break;
            case R.id.btn2:
                replaceFrament(new ItemFragment());
                break;
        }
    }
}
```

# 一、Activity与Fragment通信：Bundle

## 1、完善MainActivity类

```java
package com.example.myfragmentmanagers;

import androidx.appcompat.app.AppCompatActivity;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.fragment.app.FragmentTransaction;

import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity implements View.OnClickListener{




        /**
         * 完成动态切换
         * @param fragement
         */
        private void replaceFrament(Fragment fragement){
            // 创建fragment 管理对象
            FragmentManager fragmentManager = getSupportFragmentManager();
            // 开启fragment的事务管理
            FragmentTransaction transaction = fragmentManager.beginTransaction();
            // 用fragment替换原有显示的framelayout
            transaction.replace(R.id.framelayout,fragement);
            // 添加造作到栈中
            transaction.addToBackStack(null);
            // 事务提交
            transaction.commit();
        }



    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        // 获取第一个按钮,然后添加监听器
        Button button = findViewById(R.id.btn);
        button.setOnClickListener(this);
        // 获取第二个按钮,然后添加监听器
        Button button2 = findViewById(R.id.btn2);
        button2.setOnClickListener(this);
    }

    /**
     * 将本类做成监听器
     *
     */

    @Override
    public void onClick(View v) {
        switch (v.getId()){
            case R.id.btn:
                // 创建Bundle对象
                Bundle bundle = new Bundle();
                // 存储需要传递的信息
                bundle.putString("message","我想学习");
                // 创建BlankFragment对象
                BlankFragment1 bf = new BlankFragment1();
                // 向fragement中传递Bundle对象
                bf.setArguments(bundle);

                // 给Fragment中的IFragmentCallBack赋值
                bf.setFragmentCallBack(new IFragmentCallBack() {
                    @Override
                    public void sendMsgToActivity(String msg) {
                        // 弹框显示
                        Toast.makeText(MainActivity.this,msg,Toast.LENGTH_SHORT).show();
                    }
                    @Override
                    public String getMsgFromActivity(String msg) {
                        return null;
                    }
                });

                replaceFrament(bf);
                break;
            case R.id.btn2:
                replaceFrament(new ItemFragment());
                break;
        }
    }
}
```

## 2、完善BlankFragment1类

```java
@Override
public void onCreate(Bundle savedInstanceState) {

    //获取bundle对象
    Bundle bundle = this.getArguments();
    //获取Bundle中封装的信息
    String message = bundle.getString("message");
    //打印获取的信息
    Log.e("whl", "onCreate: "+message);


    super.onCreate(savedInstanceState);
    if (getArguments() != null) {package com.example.myfragmentmanagers;

import android.content.Context;
import android.nfc.Tag;
import android.os.Bundle;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;

import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;

/**
 * A simple {@link Fragment} subclass.
 * Use the {@link BlankFragment1#newInstance} factory method to
 * create an instance of this fragment.
 */
public class BlankFragment1 extends Fragment {
    private IFragmentCallBack fragmentCallBack;
    private View rootView;

    public void setFragmentCallBack(IFragmentCallBack fragmentCallBack) {
        this.fragmentCallBack = fragmentCallBack;
    }

    // TODO: Rename parameter arguments, choose names that match
    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
    private static final String ARG_PARAM1 = "param1";
    private static final String ARG_PARAM2 = "param2";

    // TODO: Rename and change types of parameters
    private String mParam1;
    private String mParam2;

    public BlankFragment1() {
        // Required empty public constructor
    }

    /**
     * Use this factory method to create a new instance of
     * this fragment using the provided parameters.
     *
     * @param param1 Parameter 1.
     * @param param2 Parameter 2.
     * @return A new instance of fragment BlankFragment1.
     */
    // TODO: Rename and change types and number of parameters
    public static BlankFragment1 newInstance(String param1, String param2) {


        BlankFragment1 fragment = new BlankFragment1();
        Bundle args = new Bundle();
        args.putString(ARG_PARAM1, param1);
        args.putString(ARG_PARAM2, param2);
        fragment.setArguments(args);
        return fragment;
    }

    // 当该Fragment被添加到Activity中会被回调一次
    @Override
    public void onAttach(@NonNull Context context) {
        super.onAttach(context);

    }

    // 创建Fragment时回调,仅一次
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // 获取传过来的Bundle对象
        Bundle bundle = this.getArguments();
        // 获取Bundle中封装信息
        String message = bundle.getString("message");
        // 打印获取到的信息
        Log.e("lzp", "onCreate: "+message );


        if (getArguments() != null) {
            mParam1 = getArguments().getString(ARG_PARAM1);
            mParam2 = getArguments().getString(ARG_PARAM2);
        }
    }

    // 每次创建,绘制该Fragment的View的组件时回调
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {

        if(rootView == null){
            rootView = inflater.inflate(R.layout.fragment_blank1, container, false);
        }

        // 获取按钮对象
        Button btn = rootView.findViewById(R.id.btn3);
        // 给按钮添加单击事件
        btn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                // 调用fragmentCallBack的sendMsgToActivity
                fragmentCallBack.sendMsgToActivity("hello,Im from fragment");
            }
        });

        // Inflate the layout for this fragment
        return rootView;
    }

    // 当Fragment所在的Activity启动完成后会调用
    @Override
    public void onActivityCreated(@Nullable Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);
    }

    // 当启动Fragment时 会调用
    @Override
    public void onStart() {
        super.onStart();
    }

    // 恢复Fragment时 被调用,onstart方法后一定会调用onResume方法
    @Override
    public void onResume() {
        super.onResume();
    }


    // 停止Fragment时会调用
    @Override
    public void onStop() {
        super.onStop();
    }

    //销毁Fragment的视图时会调用
    @Override
    public void onDestroyView() {
        super.onDestroyView();
    }

    // 销毁Fragment时调用
    @Override
    public void onDestroy() {
        super.onDestroy();
    }

    // 将该Fragment从Activity被删除/替换完成后调用该方法
    // onDestroy
    @Override
    public void onDetach() {
        super.onDetach();
    }
}
        mParam1 = getArguments().getString(ARG_PARAM1);
        mParam2 = getArguments().getString(ARG_PARAM2);
    }
}
```

# 二、Activity与Fragment通信接口

## 1、完善BlankFragment1.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
             xmlns:tools="http://schemas.android.com/tools"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             tools:context=".BlankFragment1">

    <!-- TODO: Update blank fragment layout -->
    <TextView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:text="@string/hello_blank_fragment"
    />


    <Button
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:id="@+id/btn3"
            android:text="数据传递"
    />

</FrameLayout>
```

## 2、完善IFragmentCallBack接口

```java
package com.example.myfragmentmanagers;

public interface IFragmentCallBack {
    /*
    将消息从fragment发送给activity
    msg 要发送的消息
     */
    void sendMsgToActivity(String msg);

    String getMsgFromActivity(String msg);

}


```

## 3、完善BlankFragment1类

```java
package com.example.myfragmentmanagers;

import android.content.Context;
import android.nfc.Tag;
import android.os.Bundle;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;

import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;

/**
 * A simple {@link Fragment} subclass.
 * Use the {@link BlankFragment1#newInstance} factory method to
 * create an instance of this fragment.
 */
public class BlankFragment1 extends Fragment {
    private IFragmentCallBack fragmentCallBack;
    private View rootView;

    public void setFragmentCallBack(IFragmentCallBack fragmentCallBack) {
        this.fragmentCallBack = fragmentCallBack;
    }

    // TODO: Rename parameter arguments, choose names that match
    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
    private static final String ARG_PARAM1 = "param1";
    private static final String ARG_PARAM2 = "param2";

    // TODO: Rename and change types of parameters
    private String mParam1;
    private String mParam2;

    public BlankFragment1() {
        // Required empty public constructor
    }

    /**
     * Use this factory method to create a new instance of
     * this fragment using the provided parameters.
     *
     * @param param1 Parameter 1.
     * @param param2 Parameter 2.
     * @return A new instance of fragment BlankFragment1.
     */
    // TODO: Rename and change types and number of parameters
    public static BlankFragment1 newInstance(String param1, String param2) {


        BlankFragment1 fragment = new BlankFragment1();
        Bundle args = new Bundle();
        args.putString(ARG_PARAM1, param1);
        args.putString(ARG_PARAM2, param2);
        fragment.setArguments(args);
        return fragment;
    }

    // 当该Fragment被添加到Activity中会被回调一次
    @Override
    public void onAttach(@NonNull Context context) {
        super.onAttach(context);

    }

    // 创建Fragment时回调,仅一次
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // 获取传过来的Bundle对象
        Bundle bundle = this.getArguments();
        // 获取Bundle中封装信息
        String message = bundle.getString("message");
        // 打印获取到的信息
        Log.e("lzp", "onCreate: "+message );


        if (getArguments() != null) {
            mParam1 = getArguments().getString(ARG_PARAM1);
            mParam2 = getArguments().getString(ARG_PARAM2);
        }
    }

    // 每次创建,绘制该Fragment的View的组件时回调
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {

        if(rootView == null){
            rootView = inflater.inflate(R.layout.fragment_blank1, container, false);
        }

        // 获取按钮对象
        Button btn = rootView.findViewById(R.id.btn3);
        // 给按钮添加单击事件
        btn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                // 调用fragmentCallBack的sendMsgToActivity
                fragmentCallBack.sendMsgToActivity("hello,Im from fragment");
            }
        });

        // Inflate the layout for this fragment
        return rootView;
    }

    // 当Fragment所在的Activity启动完成后会调用
    @Override
    public void onActivityCreated(@Nullable Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);
    }

    // 当启动Fragment时 会调用
    @Override
    public void onStart() {
        super.onStart();
    }

    // 恢复Fragment时 被调用,onstart方法后一定会调用onResume方法
    @Override
    public void onResume() {
        super.onResume();
    }


    // 停止Fragment时会调用
    @Override
    public void onStop() {
        super.onStop();
    }

    //销毁Fragment的视图时会调用
    @Override
    public void onDestroyView() {
        super.onDestroyView();
    }

    // 销毁Fragment时调用
    @Override
    public void onDestroy() {
        super.onDestroy();
    }

    // 将该Fragment从Activity被删除/替换完成后调用该方法
    // onDestroy
    @Override
    public void onDetach() {
        super.onDetach();
    }
}
```

## 4完善MainActivity

```java
 @Override
    public void onClick(View v) {
        switch (v.getId()){
            case R.id.btn:
                // 创建Bundle对象
                Bundle bundle = new Bundle();
                // 存储需要传递的信息
                bundle.putString("message","我想学习");
                // 创建BlankFragment对象
                BlankFragment1 bf = new BlankFragment1();
                // 向fragement中传递Bundle对象
                bf.setArguments(bundle);

                // 给Fragment中的IFragmentCallBack赋值
                bf.setFragmentCallBack(new IFragmentCallBack() {
                    @Override
                    public void sendMsgToActivity(String msg) {
                        // 弹框显示
                        Toast.makeText(MainActivity.this,msg,Toast.LENGTH_SHORT).show();
                    }
                    @Override
                    public String getMsgFromActivity(String msg) {
                        return null;
                    }
                });

                replaceFrament(bf);
                break;
            case R.id.btn2:
                replaceFrament(new ItemFragment());
                break;
        }
    }
}
```

# 一、Fragment与ViewPager结合应用

## 1、完善activity_main.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:orientation="vertical"
        xmlns:android="http://schemas.android.com/apk/res/android">
    <androidx.viewpager2.widget.ViewPager2
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="9"
            android:id="@+id/viewPager"/>

    <include layout="@layout/bottom_layout"/>


</LinearLayout>
```

## 2、创建BlankFragment

```java
package com.example.mywechatpage;

import android.os.Bundle;

import androidx.fragment.app.Fragment;

import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

/**
 * A simple {@link Fragment} subclass.
 * Use the {@link BlankFragment#newInstance} factory method to
 * create an instance of this fragment.
 */
public class BlankFragment extends Fragment {

    // TODO: Rename parameter arguments, choose names that match
    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
    private static final String ARG_PARAM1 = "param1";
    private static final String ARG_PARAM2 = "param2";

    // TODO: Rename and change types of parameters
    private String mParam1;
    private String mParam2;

    public BlankFragment() {
        // Required empty public constructor
    }

    /**
     * Use this factory method to create a new instance of
     * this fragment using the provided parameters.
     *
     * @param param1 Parameter 1.
     * @param param2 Parameter 2.
     * @return A new instance of fragment BlankFragment.
     */
    // TODO: Rename and change types and number of parameters
    public static BlankFragment newInstance(String param1, String param2) {
        BlankFragment fragment = new BlankFragment();
        Bundle args = new Bundle();
        args.putString(ARG_PARAM1, param1);
        args.putString(ARG_PARAM2, param2);
        fragment.setArguments(args);
        return fragment;
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        if (getArguments() != null) {
            mParam1 = getArguments().getString(ARG_PARAM1);
            mParam2 = getArguments().getString(ARG_PARAM2);
        }
    }

    View rootView;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {

        if (rootView == null) {
            rootView = inflater.inflate(R.layout.fragment_blank, container, false);
        }

        // 获取文本对象
        TextView textView = rootView.findViewById(R.id.text);

        // 将文本对象的内容设置为mParam1的内容
        textView.setText(mParam1);



        // Inflate the layout for this fragment
        return rootView;
    }
}
```

# 一、微信下方页面实现

## 1、配置color.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="purple_200">#FFBB86FC</color>
    <color name="purple_500">#FF6200EE</color>
    <color name="purple_700">#FF3700B3</color>
    <color name="teal_200">#FF03DAC5</color>
    <color name="teal_700">#FF018786</color>
    <color name="black">#FF000000</color>
    <color name="white">#FFFFFFFF</color>
    <color name="gray">#E0E0E0</color>
</resources>
```

## 2、创建tab_weixin.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:drawable="@drawable/weixin_pressed" android:state_selected="true"/>
    <item android:drawable="@drawable/weixin_normal"/>
</selector>
```

## 3、创建tab_contact.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <!--按下显示第一张,平时显示第二张-->
    <item android:drawable="@drawable/contact_list_pressed" android:state_selected="true"/>
    <item android:drawable="@drawable/contact_list_normal"/>
</selector>
```

## 4、创建tab_find.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@drawable/find_pressed" android:state_selected="true"/>
    <item android:drawable="@drawable/find_normal"/>
</selector>
```

## 6、创建tab_profile.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@drawable/profile_pressed" android:state_selected="true"/>
    <item android:drawable="@drawable/profile_normal"/>
</selector>
```

## 7、创建bottom_layout.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:layout_width="match_parent"
              android:layout_height="55dp"
              android:background="@color/gray">

    <!--第一部分-->
    <LinearLayout
            android:id="@+id/id_tab_weixin"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:gravity="center"
            android:orientation="vertical">
        <!--上方的图片-->
        <ImageView
                android:id="@+id/tab_iv_weixin"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:background="@drawable/tab_weixin"/>
        <!--下方的文字-->
        <TextView
                android:id="@+id/text_weixin"
                android:layout_width="32dp"
                android:layout_height="wrap_content"
                android:gravity="center"
                android:text="微信"/>

    </LinearLayout>

    <!--第二部分-->
    <LinearLayout
            android:id="@+id/id_tab_contact"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:gravity="center"
            android:orientation="vertical">
        <!--上方的图片-->
        <ImageView
                android:id="@+id/tab_iv_contact"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:background="@drawable/tab_contact"/>
        <!--下方的文字-->
        <TextView
                android:id="@+id/text_counter"
                android:layout_width="32dp"
                android:layout_height="wrap_content"
                android:gravity="center"
                android:text="通讯"/>

    </LinearLayout>

    <!--第三部分-->
    <LinearLayout
            android:id="@+id/id_tab_find"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:gravity="center"
            android:orientation="vertical">
        <!--上方的图片-->
        <ImageView
                android:id="@+id/tab_iv_find"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:background="@drawable/tab_find"/>
        <!--下方的文字-->
        <TextView
                android:id="@+id/text_find"
                android:layout_width="32dp"
                android:layout_height="wrap_content"
                android:gravity="center"
                android:text="发现"/>

    </LinearLayout>

    <!--第一部分-->
    <LinearLayout
            android:id="@+id/id_tab_profile"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:gravity="center"
            android:orientation="vertical">
        <!--上方的图片-->
        <ImageView
                android:id="@+id/tab_iv_profile"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:background="@drawable/tab_profile"/>
        <!--下方的文字-->
        <TextView
                android:id="@+id/text_profile"
                android:layout_width="32dp"
                android:layout_height="wrap_content"
                android:gravity="center"
                android:text="我的"/>

    </LinearLayout>


</LinearLayout>

```

## 8、完善activity_main.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:orientation="vertical"
        xmlns:android="http://schemas.android.com/apk/res/android">
    <androidx.viewpager2.widget.ViewPager2
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="9"
            android:id="@+id/viewPager"/>

    <include layout="@layout/bottom_layout"/>


</LinearLayout>
```

## 9、在MainActivity中添加文件

```java
public class MainActivity extends AppCompatActivity {
    // 声明一个ViewPager2的对象
    ViewPager2 viewPager;

    // 四个部分
    private LinearLayout llChat,llContacts,llFind,llProflile;
    // 四张图片
    private ImageView ivChat,ivContacts,ivFind,ivProflile;

    // 初始化上述对象
    private void initTabView(){
        // 初始化四个部分
        llChat = findViewById(R.id.id_tab_weixin);
        llContacts = findViewById(R.id.id_tab_contact);
        llFind = findViewById(R.id.id_tab_find);
        llProflile = findViewById(R.id.id_tab_profile);
        // 初试化四张图片
        ivChat = findViewById(R.id.tab_iv_weixin);
        ivContacts = findViewById(R.id.tab_iv_contact);
        ivFind = findViewById(R.id.tab_iv_find);
        ivProflile = findViewById(R.id.tab_iv_profile);
        // 默认选中第一张图
        ivChat.setSelected(true);
```

```java
public class MainActivity extends AppCompatActivity implements View.OnClickListener{
    // 声明一个ViewPage2的对象
    ViewPager2 viewPager;

    // 四个部分
    private LinearLayout llChat,llContacts,llFind,llProfile;
    // 四个图片
    private ImageView ivChat,ivContacts,livFind,ivProfile;

    // 初始化上述对象
    private void initTabView(){
        // 初始化四部分
        llChat = findViewById(R.id.id_tab_weixin);
        llContacts = findViewById(R.id.id_tab_contact);
        llFind = findViewById(R.id.id_tab_find);
        llProfile = findViewById(R.id.id_tab_profile);
        // 初始化四张图片
        ivChat = findViewById(R.id.tab_iv_weixin);
        ivContacts = findViewById(R.id.tab_iv_contact);
        livFind = findViewById(R.id.tab_iv_find);
        ivProfile = findViewById(R.id.tab_iv_profile);
        // 默认选中第一张图片
        ivChat.setSelected(true);


        // 添加监听器
        llChat.setOnClickListener(this);
        llContacts.setOnClickListener(this);
        llFind.setOnClickListener(this);
        llProfile.setOnClickListener(this);
    }
```

# 一、滑动页面切换按钮

## 1）在mainactivity中创建方法

```java
// 切换页面
    private void changeTab(int position){
        switch (position){
            case R.id.id_tab_weixin:
                viewPager.setCurrentItem(0);
            case 0:
                ivChat.setSelected(true);
                ivContacts.setSelected(false);
                livFind.setSelected(false);
                ivProfile.setSelected(false);
                break;
            case R.id.id_tab_contact:
                viewPager.setCurrentItem(1);
            case 1:
                ivChat.setSelected(false);
                ivContacts.setSelected(true);
                livFind.setSelected(false);
                ivProfile.setSelected(false);
                break;
            case R.id.id_tab_find:
                viewPager.setCurrentItem(2);
            case 2:
                ivChat.setSelected(false);
                ivContacts.setSelected(false);
                livFind.setSelected(true);
                ivProfile.setSelected(false);
                break;
            case R.id.id_tab_profile:
                viewPager.setCurrentItem(3);
            case 3:
                ivChat.setSelected(false);
                ivContacts.setSelected(false);
                livFind.setSelected(false);
                ivProfile.setSelected(true);
                break;
        }
    }

```

## 2）添加滑动监听器

```java
// 初始化分页器
    private void initPager(){
        // 初始化ViewPager2的对象
        viewPager = findViewById(R.id.viewPager);
        // 创建封装Fragment的列表
        ArrayList<Fragment> fragments = new ArrayList<Fragment>();
        // 创建Fragment对象并添加到列表中, 文字用于显示Fragment的内容
        fragments.add(BlankFragment.newInstance("微信",null));
        fragments.add(BlankFragment.newInstance("通讯录",null));
        fragments.add(BlankFragment.newInstance("发现",null));
        fragments.add(BlankFragment.newInstance("我的",null));

        // 创建适配器对象
        MyFragmentPagerAdapter fragmentPagerAdapter = new MyFragmentPagerAdapter(
                getSupportFragmentManager(),getLifecycle(),fragments
                );

        // 将适配器给ViewPage2对象
        viewPager.setAdapter(fragmentPagerAdapter);
        // 添加滑动事件
        viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {
            @Override
            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {
                super.onPageScrolled(position, positionOffset, positionOffsetPixels);
            }

            // 该页面被选择
            @Override
            public void onPageSelected(int position) {
                super.onPageSelected(position);
                // 调用切换页面的方法
                changeTab(position);
            }

            @Override
            public void onPageScrollStateChanged(int state) {
                super.onPageScrollStateChanged(state);
            }
        });

    }
```

# 二、实现单击按钮切换页面

## 1）创建单击事件监听器

```java
 @Override
    public void onClick(View view) {
        changeTab(view.getId());

    }
```

## 2）添加监听器

```java
        // 添加监听器
        llChat.setOnClickListener(this);
        llContacts.setOnClickListener(this);
        llFind.setOnClickListener(this);
        llProfile.setOnClickListener(this);
    }
```

## 3）改造切换页面的方法

```java
// 切换页面
    private void changeTab(int position){
        switch (position){
            case R.id.id_tab_weixin:
                viewPager.setCurrentItem(0);
            case 0:
                ivChat.setSelected(true);
                ivContacts.setSelected(false);
                livFind.setSelected(false);
                ivProfile.setSelected(false);
                break;
            case R.id.id_tab_contact:
                viewPager.setCurrentItem(1);
            case 1:
                ivChat.setSelected(false);
                ivContacts.setSelected(true);
                livFind.setSelected(false);
                ivProfile.setSelected(false);
                break;
            case R.id.id_tab_find:
                viewPager.setCurrentItem(2);
            case 2:
                ivChat.setSelected(false);
                ivContacts.setSelected(false);
                livFind.setSelected(true);
                ivProfile.setSelected(false);
                break;
            case R.id.id_tab_profile:
                viewPager.setCurrentItem(3);
            case 3:
                ivChat.setSelected(false);
                ivContacts.setSelected(false);
                livFind.setSelected(false);
                ivProfile.setSelected(true);
                break;
        }
    }
```

# 三、activity之间的跳转

## 1、创建activity1完善xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        xmlns:android="http://schemas.android.com/apk/res/android">

    <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="我就是MainActivity"
            android:textColor="@color/black"
            android:textSize="40dp"
            android:layout_gravity="center_horizontal"

    />

    <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="跳转到第二个Activity"
            android:onClick="startActivity2"
    />

</LinearLayout>
```

## 2、创建activity2完善xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:orientation="vertical"
        xmlns:android="http://schemas.android.com/apk/res/android">

    <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="我说就是第2个Activity"
            android:textSize="40dp"
            android:layout_gravity="center_horizontal"/>

</LinearLayout>
```

# 四、Activity的生命周期

```java
package com.example.myactivity;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.View;

public class MainActivity extends AppCompatActivity {

    private static final String TAG = "lzp";

    // Activity创建
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Log.d(TAG, "onCreate: ");
    }

    // 视图重新启动
    @Override
    protected void onRestart() {
        super.onRestart();
        Log.d(TAG, "onRestart: ");
    }

    // 视图启动
    @Override
    protected void onStart() {
        super.onStart();
        Log.d(TAG, "onStart: ");
    }

    // 视图可见
    @Override
    protected void onResume() {
        super.onResume();
        Log.d(TAG, "onResume: ");
    }

    // 视图不可见
    @Override
    protected void onPause() {
        super.onPause();
        Log.d(TAG, "onPause: ");
    }

    // 视图停止
    @Override
    protected void onStop() {
        super.onStop();
        Log.d(TAG, "onStop: ");
    }

    // 视图被销毁
    @Override
    protected void onDestroy() {
        super.onDestroy();
        Log.d(TAG, "onDestroy: ");
    }

    public void startActivity2(View view){
        startActivity(new Intent(this,MainActivity2.class));
    }
}
```

# 飞机大战

创建飞行物类

```java
package com.example.shootgame;

import android.graphics.Bitmap;

public abstract class FlyingObject {
    protected int x;    // 位置
    protected int y;    // 位置
    protected Bitmap image; // 图片
    protected int width;    // 宽度
    protected int height;   // 高度
    protected int speed;    // 速度


    /*
    检测飞行物是否被击中
     */
    public boolean shootBy(Bullet b){
        return x-b.getWidth()<b.getX() && b.getX()< x+width
                && y-b.getHeight()<b.getY() && b.getY()<y+height;
    }


    public int getX() {
        return x;
    }

    public void setX(int x) {
        this.x = x;
    }

    public int getY() {
        return y;
    }

    public void setY(int y) {
        this.y = y;
    }

    public Bitmap getImage() {
        return image;
    }

    public void setImage(Bitmap image) {
        this.image = image;
    }

    public int getWidth() {
        return width;
    }

    public void setWidth(int width) {
        this.width = width;
    }

    public int getHeight() {
        return height;
    }

    public void setHeight(int height) {
        this.height = height;
    }

    public int getSpeed() {
        return speed;
    }

    public void setSpeed(int speed) {
        this.speed = speed;
    }

    /*
        移动方法
         */
    public abstract void step();

    public abstract boolean outOfBounds();


}
```

创建资源库

```java
package com.example.shootgame;

import android.graphics.Bitmap;

public class StaticData {
    public static Bitmap background;
    public static Bitmap airplane;
    public static Bitmap bee;
    public static Bitmap bullet;
    public static Bitmap gameover;
    public static Bitmap hero0;
    public static Bitmap hero1;
    public static Bitmap pause;
    public static Bitmap start;
    public static Bitmap enemy;
    public static Bitmap enemy2;
    public static Bitmap enemy3;


    public static int width; // 手机的宽度
    public static int height; // 手机的高度
}
```

创建英雄类继承飞行物

```java
package com.example.shootgame;

import android.graphics.Bitmap;

public class Hero extends FlyingObject {


    private int doubleFire = 1;  // 英雄发射的子弹数
    private int life = 3; // 英雄的命数
    private Bitmap[] images = new Bitmap[]{StaticData.hero0,StaticData.hero1}; // 英雄机图片



    public int getDoubleFire() {
        return doubleFire;
    }

    public void setDoubleFire(int doubleFire) {
        this.doubleFire = doubleFire;
    }

    public int getLife() {
        return life;
    }

    public void setLife(int life) {
        this.life = life;
    }

    public Hero(){
        x = 400;
        y = 1300;
        image = StaticData.hero0;
        width = image.getWidth();
        height = image.getHeight();
        speed = 1;
    }

    // 得到每次发射的子弹
    public Bullet[] shoot(){
        Bullet[] bullets = null;
        if (doubleFire == 1){ // 单发
            bullets = new Bullet[1];
            bullets[0] = new Bullet(x+width/2,y-60);
        }else { // 双发
            bullets = new Bullet[2];
            bullets[0] = new Bullet(x+width/4,y-60);
            bullets[1] = new Bullet(x+3*width/4,y-60);
        }
        return bullets;
    }

    int index = 0;
    @Override
    public void step() {
        image = images[index++%2]; // 切换图片
    }

    @Override
    public boolean outOfBounds() {
        return false;
    }

    public boolean hit(FlyingObject b){
        return x-b.getWidth()<b.getX() && b.getX()< x+width
                && y-b.getHeight()<b.getY() && b.getY()<y+height;
    }
}
```

创建奖励物接口

```java
package com.example.shootgame;

public interface Award {
    int ADD_FIRE = 0;
    int ADD_LIFE = 1;

    int getType();

}
```

创建敌人接口

```java
package com.example.shootgame;

public interface Enemy {
    /*
    得到打中敌机的分数
     */
    int getScore();
}
```

创建敌机类,继承飞行物类并连接敌人接口

```java
package com.example.shootgame;

import java.util.Random;

public class Airplane extends FlyingObject implements Enemy {
    public Airplane(){
        image = StaticData.airplane;
        width = image.getWidth();
        height = image.getHeight();
        y = -height;
        Random rand = new Random();
        x = rand.nextInt(StaticData.width - width);
        speed = 2;
    }

    @Override
    public int getScore() {
        return 5;
    }

    @Override
    public void step() {
        y += speed;
    }

    @Override
    public boolean outOfBounds() {
        return y>StaticData.height;
    }
}
```

创建蜜蜂类,继承飞行物并连接奖励物接口

```java
package com.example.shootgame;

import java.util.Random;

public class Bee extends FlyingObject implements Award{

    private int xSpeed = 2;
    private int ySpeed = 2;
    private int awardType; // 奖励类型


    public Bee(){
        Random rand = new Random();
        awardType = rand.nextInt(2);
        image = StaticData.bee;
        width = image.getWidth();
        height = image.getHeight();
        y = -height;
        x = rand.nextInt(StaticData.width-width);
    }

    @Override
    public int getType() {
        return awardType;
    }

    @Override
    public void step() {
        x += xSpeed;
        y += ySpeed;

        if (x>StaticData.width - width || x<0){
            xSpeed = -xSpeed;
        }
    }

    @Override
    public boolean outOfBounds() {
        return y>StaticData.height;
    }
}
```

创建子弹类,继承飞行物

```java
package com.example.shootgame;

public class Bullet extends FlyingObject {

    public Bullet(int x,int y){
        image = StaticData.bullet;
        width = image.getWidth();
        height = image.getHeight();
        speed = 20;
        this.x = x;
        this.y = y;

    }


    @Override
    public void step() {
        y -= speed;
    }

    @Override
    public boolean outOfBounds() {
        return y < -height;
    }
}
```

ShootGameView类,游戏主体

```java
package com.example.shootgame;

import android.content.Context;
import android.graphics.BitmapFactory;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.view.MotionEvent;
import android.view.View;
import android.view.WindowManager;

import androidx.annotation.NonNull;

import java.util.Arrays;
import java.util.Random;
import java.util.Timer;
import java.util.TimerTask;

public class ShootGameView extends View {
    Paint paint = new Paint(); // 创建画笔对象
    private Hero hero; // 创建英雄对象

    private  static final int START = 0;
    private  static final int RUNNING = 1;
    private  static final int PAUSE = 2;
    private  static final int GAME_OVER = 3;

    private int state = START; // 当前游戏的状态

    private Bullet[] bullets = {}; // 存储所有子弹的仓库

    private FlyingObject[] flyings = {}; // 装飞行物的仓库

    private int score;


    /*
        移动的方法
     */
    public void stepAction(){
        // 子弹的移动
        for (int i = 0; i < bullets.length; i++){
            Bullet b = bullets[i];
            b.step();
        }
        // 英雄的切换
        hero.step();

        // 飞行物移动
        for (int i = 0; i < flyings.length; i++){
            flyings[i].step();
        }
    }

    public void initPhoneSize(){
        WindowManager wm = (WindowManager)getContext().getSystemService(Context.WINDOW_SERVICE);
        StaticData.width = wm.getDefaultDisplay().getWidth();
        StaticData.height = wm.getDefaultDisplay().getHeight();
    }

    public static FlyingObject nextOne() {
        Random random = new Random();
        int type = random.nextInt(10);
        if (type == 0) {
            return new Bee();
        } else {
            return new Airplane();
        }
    }
    /**
     * 把飞行物放到仓库
     */
    int flyEnteredIndex = 0; // 飞行物入场索引
    public void enterAction(){

        if (flyEnteredIndex++%100 == 0) {
            FlyingObject obj = nextOne();
            flyings = Arrays.copyOf(flyings, flyings.length + 1);  // 扩容
            flyings[flyings.length - 1] = obj;  // 将生产出的飞行物放到最后一个位置
        }

    }
    /*
    一颗子弹与所有飞行物发生碰撞的判断
     */
    public void bang(Bullet bullet){
        int index = -1; // 被击中的飞行物的索引
        for (int i = 0; i < flyings.length; i++){
            FlyingObject obj = flyings[i];
            if(obj.shootBy(bullet)){
                index = i; // 记录被击中的索引
                break;
            }
        }

        if (index != -1){
            // 被击中的飞行物与最后的飞行物进行交换
            FlyingObject one = flyings[index];
            flyings[index] = flyings[flyings.length-1];
            flyings[flyings.length-1] = one;
            // 删除最后一个飞行物
            flyings = Arrays.copyOf(flyings,flyings.length-1);

            if(one instanceof Enemy){   // 判断击中的飞行物是否为敌机类型
                Enemy e = (Enemy) one;
                score += e.getScore();
            }else if (one instanceof Award){
                Award a = (Award) one;
                int type = a.getType();
                switch (type){
                    case Award.ADD_FIRE:
                        hero.setDoubleFire(hero.getDoubleFire()+1);
                        break;
                    case Award.ADD_LIFE:
                        hero.setLife(hero.getLife()+1);
                        break;
                }
            }
        }
    }

    public void bangAction(){
        for (int i = 0; i < bullets.length; i++){
            Bullet b = bullets[i];
            bang(b);
        }
    }

    public boolean isGameOver(){
        for (int i = 0; i < flyings.length; i++){
            int index = -1;
            FlyingObject obj = flyings[i];
            if(hero.hit(obj)){
                hero.setLife(hero.getLife()-1);
                index = i; // 记录哪个飞行物碰到了英雄
            }
            if (index!=-1){
                FlyingObject t = flyings[index];
                flyings[index] = flyings[flyings.length-1];

                flyings = Arrays.copyOf(flyings,flyings.length-1);
            }
        }

        return hero.getLife()<=0;
    }

    public void checkGameOver(){
        if(isGameOver()){
            state = GAME_OVER;
        }
    }

    public void outOfBundsAction(){
        int index = 0; // 索引
        FlyingObject[] flyingLives = new FlyingObject[flyings.length];
        for (int i = 0; i < flyings.length; i++){
            FlyingObject f = flyings[i];
            if (!f.outOfBounds()){
                flyingLives[index] = f;
                index++;
            }
        }
        flyings = Arrays.copyOf(flyingLives,index);

        index = 0; // 索引
        Bullet[] bulletLive = new Bullet[bullets.length];
        for (int i = 0; i < bullets.length; i++){
            Bullet f = bullets[i];
            if (f != null && !f.outOfBounds()){
                bulletLive[index] = f;
                index++;
            }
        }
        bullets = Arrays.copyOf(bulletLive,index);
    }


    public void action(){
        Timer timer = new Timer(); // 创建定时器
        timer.schedule(new TimerTask() {
            @Override
            public void run() {
                if(state == RUNNING) {
                    shootAction(); // 调用射击的方法
                    stepAction(); // 调用移动的方法
                    enterAction(); // 调用飞行物入场的方法
                    bangAction(); // 调用子弹是否击中飞行物的方法
                    checkGameOver(); // 调用判断游戏是否结束的方法
                    outOfBundsAction(); // 调用飞行物越界的方法
                }
                postInvalidate();
            }
        },10,10);

        // 添加监听器
        setOnTouchListener(new OnTouchListener() {
            @Override
            public boolean onTouch(View view, MotionEvent motionEvent) {
                switch (motionEvent.getAction()){
                    case MotionEvent.ACTION_MOVE: //鼠标拖动
                        if(state == RUNNING) {
                            int x = (int) motionEvent.getX();
                            int y = (int) motionEvent.getY();

                            hero.setX(x - hero.getWidth() / 2);
                            hero.setY(y - hero.getHeight() / 2);
                            break;
                        }

                    case MotionEvent.ACTION_UP:
                        if (state == START) {
                            state = RUNNING;
                        }
                }
                return true;
            }
        });
    }


    /*
    把英雄发射的子弹装到仓库中
     */
    int shootIndex = 0;

    public void shootAction() {
        if (shootIndex++%30 == 0) { // 每隔300ms发射一次
            Bullet[] bs = hero.shoot();
            bullets = Arrays.copyOf(bullets, bullets.length + bs.length);// 扩容
            System.arraycopy(bs, 0, bullets, bullets.length - bs.length, bs.length); // 追加数据
        }
    }


    /*
    画英雄的状态
     */
    public void drawHero(Canvas canvas){
        canvas.drawBitmap(hero.getImage(),hero.getX(),hero.getY(),paint);
    }


    /*
    画游戏的状态
     */
    public void drawState(Canvas canvas){
        switch (state){
            case START:
                canvas.drawBitmap(StaticData.start,0,0,paint);
                break;
            case PAUSE:
                canvas.drawBitmap(StaticData.pause,0,0,paint);
                break;
            case GAME_OVER:
                canvas.drawBitmap(StaticData.gameover,0,0,paint);
                break;
        }

    }

    // 加载飞行物
    public void loadFlyings(){
        hero = new Hero();

    }

    // 画子弹
    public void drawBullets(Canvas canvas){
        for (int i = 0; i < bullets.length; i++){
            Bullet b = bullets[i];
            canvas.drawBitmap(b.getImage(),b.getX()-b.getWidth()/2,b.getY(),paint);
        }
    }

    // 画飞行物
    public void drawFlyingObjects(Canvas canvas){
        for (int i = 0; i < flyings.length; i++){
            FlyingObject f = flyings[i];
            canvas.drawBitmap(f.getImage(),f.getX(),f.getY(),paint);
        }
    }

    /*
    画分数
     */
    public void drawScore(Canvas canvas){
        paint.setColor(Color.BLUE);
        paint.setTextSize(40);
        canvas.drawText("得分:"+score,40,45,paint);
        canvas.drawText("命数:"+hero.getLife(),860,45,paint);
    }



    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        canvas.drawBitmap(StaticData.background,0,0,paint); // 画背景
        drawHero(canvas); // 画背景英雄机状态1
        drawState(canvas); // 画游戏状态
        drawBullets(canvas); // 画子弹
        drawFlyingObjects(canvas); // 调用画飞行物的方法
        drawScore(canvas);// 调用画分数的方法

    }

    public ShootGameView(Context context) {
        super(context);
        loadImage(); // 调用加载图片的方法
        loadFlyings(); // 调用加载飞行物的方法
        initPhoneSize();  //初始化手机参数的方法
        action(); // 开始启动
    }

    // 加载图片
    public void loadImage(){
        StaticData.background = BitmapFactory.decodeResource(getResources(),R.drawable.background);
        StaticData.airplane = BitmapFactory.decodeResource(getResources(),R.drawable.airplane);
        StaticData.start = BitmapFactory.decodeResource(getResources(),R.drawable.start);
        StaticData.bee = BitmapFactory.decodeResource(getResources(),R.drawable.bee);
        StaticData.bullet = BitmapFactory.decodeResource(getResources(),R.drawable.bullet);
        StaticData.gameover = BitmapFactory.decodeResource(getResources(),R.drawable.gameover);
        StaticData.hero0 = BitmapFactory.decodeResource(getResources(),R.drawable.hero0);
        StaticData.hero1 = BitmapFactory.decodeResource(getResources(),R.drawable.hero1);
        StaticData.pause = BitmapFactory.decodeResource(getResources(),R.drawable.pause);


    }
}
```